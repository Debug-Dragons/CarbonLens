<% layout('layout/boilerplate') -%>
<style>
    .outside {
        display: block;
        margin: auto;
        width: 1000px;
    }

    .container {
        border: 1px solid white;
        box-shadow: 0 0 14px rgba(255, 255, 255, 0.7);
        border-radius: 20px;
        display: block;
        /* width: 40%; */
        padding: 18px 21px;
        background: linear-gradient(135deg, rgb(222, 222, 242), rgb(227, 241, 238));
        overflow: hidden;
        box-shadow: 2px 2px 4px rgb(128, 128, 128);
    }

    .container label {
        font-size: 0.9rem;
    }

    .container h2 {
        text-align: center;
        padding: 0px 0px;
        margin-top: 5px;
    }

    .container form {
        padding-left: 1.5rem;
    }

    .container input {
        padding: 0px 0rem 0 0.5rem;
        margin: 0 21px;
        border-radius: 3px;
        margin: 4px 21px;
        border-radius: 5px;
        border: 1px solid grey;
    }

    .container button {
        padding: 7px 95px;
        background: linear-gradient(45deg, rgb(13, 14, 50), rgb(51, 120, 91));
        border-radius: 3px;
        border: none;
        color: white;
    }

    .container button:hover {
        color: aquamarine;
    }

    .container input:active {
        transform: scale(0.95);
    }

    .buttons-container {
        margin-left: 20px;
        margin-bottom: 7px;
    }

    .buttons-container a {
        text-decoration: none;
        border: 1px solid white;
        padding: 4px 15px;
        color: black;
        border-radius: 4px;
    }

    #active {
        background: linear-gradient(135deg, rgb(222, 222, 242), rgb(227, 241, 238));
        /* border: 2px solid rgb(163, 201, 163); */
        /* padding: 2px 12px; */
        cursor: default;
    }

    .button:hover {
        background-color: rgb(235, 179, 179);
        padding: 8px 20px;
        border-radius: 6px;
    }
</style>
<script>
  function showInputFields() {
    const selectedOption = document.getElementById("options").value;
    const inputContainer = document.getElementById("inputContainer");
    inputContainer.innerHTML = ""; // Clear previous inputs

    if (
      selectedOption === "Steel (BF-BOF)" ||
      selectedOption === "Steel (EAF)"
    ) {
      const coalInputLabel = document.createElement("label");
      coalInputLabel.textContent = "Steel produced in tonnes: ";
      const coalInput = document.createElement("input");
      coalInput.type = "number";
      coalInput.name = "coalProduced";
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(coalInputLabel);
      inputContainer.appendChild(coalInput);
    } else if (selectedOption === "Cars") {
      const smallCarsInputLabel = document.createElement("label");
      smallCarsInputLabel.textContent = "Number of small cars: ";
      const smallCarsInput = document.createElement("input");
      smallCarsInput.type = "number";
      smallCarsInput.name = "smallCars";
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(smallCarsInputLabel);
      inputContainer.appendChild(smallCarsInput);
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(document.createElement("br"));

      const midSizeCarsInputLabel = document.createElement("label");
      midSizeCarsInputLabel.textContent = "Number of mid-size cars: ";
      const midSizeCarsInput = document.createElement("input");
      midSizeCarsInput.type = "number";
      midSizeCarsInput.name = "midSizeCars";
      inputContainer.appendChild(midSizeCarsInputLabel);
      inputContainer.appendChild(midSizeCarsInput);
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(document.createElement("br"));

      const largeSUVsInputLabel = document.createElement("label");
      largeSUVsInputLabel.textContent = "Number of large SUVs: ";
      const largeSUVsInput = document.createElement("input");
      largeSUVsInput.type = "number";
      largeSUVsInput.name = "largeSUVs";
      inputContainer.appendChild(largeSUVsInputLabel);
      inputContainer.appendChild(largeSUVsInput);
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(document.createElement("br"));

      const electricVehiclesInputLabel = document.createElement("label");
      electricVehiclesInputLabel.textContent =
        "Number of electric vehicles: ";
      const electricVehiclesInput = document.createElement("input");
      electricVehiclesInput.type = "number";
      electricVehiclesInput.name = "electricVehicles";
      inputContainer.appendChild(electricVehiclesInputLabel);
      inputContainer.appendChild(electricVehiclesInput);
      inputContainer.appendChild(document.createElement("br"));
      inputContainer.appendChild(document.createElement("br"));
    }
  }
</script>
<section>
  <div class="border p-3 mx-auto w-50 mt-5">
    <div class="outside">
      <div class="buttons-container">
        <a href="/BuildingDb/<%= businessid %>" class="button" id="notactive"
        >Building</a
        >
        <a href="/VehicleDb/<%= businessid %>" class="button" id="notactive"
          >Vehicles</a
          >
        <a id="active">Supply Chain</a>
        <a href="/Result/<%= businessid %>" class="button" id="notactive"
          >Results</a
        >
      </div>
      <div class="container">
        <form method="post" action="/ProductCF/<%= businessid %>" onsubmit="validateSelection()">
          <label for="options">Select an option:</label>
          <select id="options" required onchange="showInputFields();">
            <option value="" disabled selected>Select the product type</option>
            <option value="Steel (BF-BOF)">Steel (BF-BOF)</option>
            <option value="Steel (EAF)">Steel (EAF)</option>
            <option value="Cars">Cars</option>
          </select>
    
          <div id="inputContainer">
            <!-- Input fields will be generated here -->
          </div>
          <br />
    
          <button class="button-container" type="submit">Next</button>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  function validateSelection() {
    const selectedOption = document.getElementById("options").value;
    if (selectedOption === "") {
      alert("Please select a product type");
      return false;
    }
    // Here, you can handle form submission or data processing
    // For example: document.getElementById("myForm").submit();
  }
</script>


